Task ID,Area,Checkpoint ID,Completed By,Completed Date,Component,Done,Due Date,Mark Done,Notes,Owner,Phase,Priority,Progress,Section,Source Doc,Start Date,Start Task,Started By,Status,Task
P2-A-001,Standards,P2-A,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",0) Conventions,,,,,Not Started,Redis keys (additions):
P2-A-002,Standards,P2-A,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",0) Conventions,,,,,Not Started,"API conventions: Small, versioned REST APIs; SIWE endpoints are public-facing and protected by policy/CSRF; CCID/KYC and Compliance Adapter are internal-to-internal (or authenticated) with AuthN middleware."
P2-A-003,Infra,P2-A,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",1) Google Cloud Project & Networking,,,,,Not Started,"Egress allow-list: KYC/KYB provider, Chainlink CCID, and Chainlink ACE per environment."
P2-A-004,Infra,P2-A,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",1) Google Cloud Project & Networking,,,,,Not Started,"Ingress controls: front SIWE and CCID/KYC public endpoints with TLS, CORS/CSRF, optional Cloud Armor/IAP; keep Compliance Adapter internal."
P2-A-005,Infra,P2-A,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",1) Google Cloud Project & Networking,,,,,Not Started,"Artifact Registry: repositories for `wallet-signin`, `ccid-kyc`, and `compliance-adapter`."
P2-A-006,Data Model,P2-A,,,Cloud Spanner (identity & compliance),No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",2) Data Stores — Cloud Spanner (identity & compliance),,,,,Not Started,Create tables and indexes:
P2-A-007,Data Infra,P2-A,,,Firestore (policy/config),No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",2) Data Stores — Firestore (policy/config),,,,,Not Started,"Collections: small policy documents (e.g., SIWE allowed `domains`, `origins`, `uris`, `chainIds`), adapter policy thresholds."
P2-A-008,Data Infra,P2-A,,,Memorystore and GCS,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",2) Data Stores — Memorystore and GCS,,,,,Not Started,"Redis: nonce/session caches, webhook dedupe keys, ACE token buckets."
P2-A-009,Data Infra,P2-A,,,Memorystore and GCS,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",2) Data Stores — Memorystore and GCS,,,,,Not Started,GCS: optional storage for provider documents pointers if required (no PII).
P2-A-010,Security,P2-A,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",3) Security & IAM,,,,,Not Started,"Service accounts: `sa-wallet-signin`, `sa-ccid-kyc`, `sa-compliance-adapter`."
P2-A-011,Security,P2-A,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",3) Security & IAM,,,,,Not Started,Least-privilege roles:
P2-A-012,Messaging,P2-A,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",4) Pub/Sub Event Bus,,,,,Not Started,"No new topics for Phase 2: SIWE, CCID/KYC, and Compliance Adapter are API-driven; existing bus remains."
P2-A-013,CI/CD,P2-A,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",5) CI/CD & Runtime Configuration,,,,,Not Started,"Repositories & pipelines: build, tag, push, and deploy `wallet-signin`, `ccid-kyc`, `compliance-adapter`."
P2-A-014,CI/CD,P2-A,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",5) CI/CD & Runtime Configuration,,,,,Not Started,Runtime configs:
P2-A-015,Observability,P2-A,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",7) Observability & SLOs,,,,,Not Started,"Dashboards: p95 latency and error-rate for SIWE, CCID/KYC (start + webhook), Compliance Adapter check; cache-hit ratio for Adapter."
P2-A-016,Observability,P2-A,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",7) Observability & SLOs,,,,,Not Started,Alerts: Adapter check errors/latency; CCID issue/refresh failures; invalid SIWE verifications.
P2-A-017,Observability,P2-A,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",7) Observability & SLOs,,,,,Not Started,SLO targets: SIWE verify server-side p95 ≤ 150 ms (ex-wallet time). Compliance cache-hit p95 ≤ 50 ms; fresh path off hot path.
P2-A-018,Auth,P2-A,,,Wallet Sign-In (SIWE),No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Component-Level Preflight (Phase 2) — Wallet Sign-In (SIWE),,,,,Not Started,Secrets: JWT signing keys and cookie secrets present.
P2-A-019,Auth,P2-A,,,Wallet Sign-In (SIWE),No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Component-Level Preflight (Phase 2) — Wallet Sign-In (SIWE),,,,,Not Started,"Config: allowed `domains`, `origins`, `uris`, `chainIds`; nonce/session TTLs; cookie flags; CORS/HSTS."
P2-A-020,Auth,P2-A,,,Wallet Sign-In (SIWE),No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Component-Level Preflight (Phase 2) — Wallet Sign-In (SIWE),,,,,Not Started,"Spanner tables: `siwe_nonces`, `sessions`, `wallets` with indexes as above."
P2-A-021,Auth,P2-A,,,Wallet Sign-In (SIWE),No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Component-Level Preflight (Phase 2) — Wallet Sign-In (SIWE),,,,,Not Started,Redis: nonce/session caches and rate limits enabled.
P2-A-022,Auth,P2-A,,,Wallet Sign-In (SIWE),No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Component-Level Preflight (Phase 2) — Wallet Sign-In (SIWE),,,,,Not Started,AuthN middleware: validates access JWT; loads `account_id`/`wallet_id`.
P2-A-023,Identity,P2-A,,,CCID/KYC Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Component-Level Preflight (Phase 2) — CCID/KYC Service,,,,,Not Started,Secrets: provider keys + webhook signing; Chainlink CCID credentials.
P2-A-024,Identity,P2-A,,,CCID/KYC Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Component-Level Preflight (Phase 2) — CCID/KYC Service,,,,,Not Started,Config: provider webhook → `/ccid/webhook/provider`; policy resolver enabled.
P2-A-025,Identity,P2-A,,,CCID/KYC Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Component-Level Preflight (Phase 2) — CCID/KYC Service,,,,,Not Started,"Spanner tables: `kyc_sessions`, `ccid_attestations`, `kyb_docs_meta`."
P2-A-026,Identity,P2-A,,,CCID/KYC Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Component-Level Preflight (Phase 2) — CCID/KYC Service,,,,,Not Started,Webhook security: signature verification and Redis idempotency key `ccid:webhook:{provider_session_id}`.
P2-A-027,Identity,P2-A,,,CCID/KYC Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Component-Level Preflight (Phase 2) — CCID/KYC Service,,,,,Not Started,Compliance triggers: call Adapter `invalidate/refresh` on issue/revoke/expiry.
P2-A-028,Compliance,P2-A,,,Compliance Adapter,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Component-Level Preflight (Phase 2) — Compliance Adapter,,,,,Not Started,Secrets: ACE credentials and limits.
P2-A-029,Compliance,P2-A,,,Compliance Adapter,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Component-Level Preflight (Phase 2) — Compliance Adapter,,,,,Not Started,Config: cache TTLs; trigger thresholds; background sweep cadence; request debounce.
P2-A-030,Compliance,P2-A,,,Compliance Adapter,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Component-Level Preflight (Phase 2) — Compliance Adapter,,,,,Not Started,Spanner table: `compliance_cache` with unique `account_id` and index on `expiry_at`.
P2-A-031,Compliance,P2-A,,,Compliance Adapter,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Component-Level Preflight (Phase 2) — Compliance Adapter,,,,,Not Started,ACE client: timeouts/QPS/retries with OTEL.
P2-A-032,Risk,P2-A,,,Risk Engine (update),No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Component-Level Preflight (Phase 2) — Risk Engine (update),,,,,Not Started,Integration: synchronous call to Compliance Adapter per pre-trade check; fail-closed on non-ALLOW or adapter error.
P2-A-033,Validation,P2-A,,,SIWE Flow,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",9) Smoke Tests — SIWE Flow,,,,,Not Started,`GET /siwe/nonce` returns single-use nonce; Spanner & Redis reflect it.
P2-A-034,Validation,P2-A,,,SIWE Flow,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",9) Smoke Tests — SIWE Flow,,,,,Not Started,"`POST /siwe/verify` mints tokens, persists session, marks nonce used; `wallets` bound to `accounts`."
P2-A-035,Validation,P2-A,,,KYC & Attestation Flow,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",9) Smoke Tests — KYC & Attestation Flow,,,,,Not Started,`POST /ccid/start` creates `kyc_sessions` and returns provider URL/token.
P2-A-036,Validation,P2-A,,,KYC & Attestation Flow,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",9) Smoke Tests — KYC & Attestation Flow,,,,,Not Started,Signed webhook to `/ccid/webhook/provider` updates `kyc_sessions`.
P2-A-037,Validation,P2-A,,,KYC & Attestation Flow,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",9) Smoke Tests — KYC & Attestation Flow,,,,,Not Started,`POST /ccid/issue_or_refresh` creates `ccid_attestations` (non-PII); triggers Adapter refresh.
P2-A-038,Validation,P2-A,,,Compliance Verdict,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",9) Smoke Tests — Compliance Verdict,,,,,Not Started,`GET /compliance/{account_id}`: first call miss→ACE→cache write; second call hit→fast path.
P2-A-039,Validation,P2-A,,,Risk Engine Integration,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",9) Smoke Tests — Risk Engine Integration,,,,,Not Started,Push `account.intent.ready`; Risk logs show Compliance Adapter check prior to decision; proceed only on `ALLOW`.
P2-C-001,Contracts,P2-C,,,CCID/KYC Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",1) Development & Integration Plan — CCID/KYC Service,,,,,Not Started,Public API (versioned path permitted):
P2-C-002,Contracts,P2-C,,,CCID/KYC Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",1) Development & Integration Plan — CCID/KYC Service,,,,,Not Started,Session management (`/ccid/start`): Resolve required KYC level by jurisdiction/entity type; open a provider session; persist to `kyc_sessions`; return handoff token/URL. (Auth required via SIWE session.)
P2-C-003,Contracts,P2-C,,,CCID/KYC Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",1) Development & Integration Plan — CCID/KYC Service,,,,,Not Started,Webhook handling (`/ccid/webhook/provider`): Verify signature; dedupe via Redis idempotency key `ccid:webhook:{provider_session_id}`; update `kyc_sessions` with normalized decision.
P2-C-004,Contracts,P2-C,,,CCID/KYC Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",1) Development & Integration Plan — CCID/KYC Service,,,,,Not Started,Evidence redaction: Compute salted hashes for sensitive identifiers; store no raw PII. Keep only pointers/digests in `kyb_docs_meta`.
P2-C-005,Contracts,P2-C,,,CCID/KYC Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",1) Development & Integration Plan — CCID/KYC Service,,,,,Not Started,"CCID issuance (`issue_or_refresh` path): Map provider decision into a CCID claim, call Chainlink CCID, upsert `ccid_attestations{account_id,wallet_address,attestation_id,…}`, optionally verify immediately, and schedule refresh by `expires_at`. Guard issuance with `ccid:issue:{account_id}`."
P2-C-006,Contracts,P2-C,,,CCID/KYC Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",1) Development & Integration Plan — CCID/KYC Service,,,,,Not Started,"Compliance triggers: On issue/revoke/expire (or level/jurisdiction change), call Compliance Adapter `invalidate/refresh` so Risk sees a fresh verdict when needed."
P2-C-007,Contracts,P2-C,,,CCID/KYC Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",1) Development & Integration Plan — CCID/KYC Service,,,,,Not Started,Collections & indexes (must exist):
P2-C-008,Contracts,P2-C,,,CCID/KYC Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",1) Development & Integration Plan — CCID/KYC Service,,,,,Not Started,"Security, secrets, and egress: Provider & CCID keys in Secret Manager; signed webhooks; allow-list egress to provider and Chainlink CCID."
P2-C-009,Contracts,P2-C,,,CCID/KYC Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",1) Development & Integration Plan — CCID/KYC Service,,,,,Not Started,"Idempotency & concurrency: Webhooks deduped by `(provider_session_id, signature)`; issuance path serialized by `ccid:issue:{account_id}`; upserts keyed by `{account_id,wallet_address}` for safe retries."
P2-C-010,Contracts,P2-C,,,CCID/KYC Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",1) Development & Integration Plan — CCID/KYC Service,,,,,Not Started,"Observability: Structured logs with `correlationId`; counters for starts, approvals, rejects; latency/error dashboards per endpoint. (Adapter refreshes are also logged/observable.)"
P2-C-011,Validation,P2-C,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,"Unit tests: Webhook signature verification, evidence hashing/redaction, CCID claim construction and mapping."
P2-C-012,Validation,P2-C,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,Seed data: Use an `account_id` obtained from the SIWE flow.
P2-C-013,Validation,P2-C,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,"Call `POST /ccid/start` with a valid SIWE access token → expect session URL/token and a `kyc_sessions{status:""created""}` record."
P2-C-014,Validation,P2-C,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,"POST a valid, signed webhook payload indicating “approved” to `/ccid/webhook/provider`; expect 200 OK, signature verified in logs, and `kyc_sessions{status:""completed"", decision:…}`."
P2-C-015,Validation,P2-C,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,"Verify a successful call to the (sandbox/mocked) Chainlink CCID API; check `ccid_attestations` upsert `{attestation_id,…}` (non-PII only)."
P2-C-016,Validation,P2-C,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,`GET /ccid/status` returns the newly created attestation summary.
P2-C-017,Validation,P2-C,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,`POST /ccid/invalidate` marks it revoked (and upstream if supported).
P2-C-018,Validation,P2-C,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,"If `expires_at` is near, background scheduler runs `issue_or_refresh`."
P2-C-019,Validation,P2-C,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,Send a webhook with an invalid signature → 401/403 and no state change; confirm idempotency did not ingest the payload.
P2-C-020,Validation,P2-C,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,"After issuance, confirm the service called Compliance Adapter `invalidate/refresh`; adapter logs show cache refresh on next check."
P2-D-001,Contracts,P2-D,,,Compliance Adapter Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",1) Development & Integration Plan — Compliance Adapter Service,,,,,Not Started,"API endpoint (internal, versioned path permitted):"
P2-D-002,Contracts,P2-D,,,Compliance Adapter Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",1) Development & Integration Plan — Compliance Adapter Service,,,,,Not Started,Serve-first caching logic:
P2-D-003,Contracts,P2-D,,,Compliance Adapter Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",1) Development & Integration Plan — Compliance Adapter Service,,,,,Not Started,Refresh on miss/stale:
P2-D-004,Contracts,P2-D,,,Compliance Adapter Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",1) Development & Integration Plan — Compliance Adapter Service,,,,,Not Started,ACE Integration (client library):
P2-D-005,Contracts,P2-D,,,Compliance Adapter Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",1) Development & Integration Plan — Compliance Adapter Service,,,,,Not Started,Collections & indexes:
P2-D-006,Contracts,P2-D,,,Compliance Adapter Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",1) Development & Integration Plan — Compliance Adapter Service,,,,,Not Started,Error handling & policy:
P2-D-007,Contracts,P2-D,,,Compliance Adapter Service,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",1) Development & Integration Plan — Compliance Adapter Service,,,,,Not Started,Observability & SLOs:
P2-D-008,Contracts,P2-D,,,Risk Engine (modification),No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",1) Development & Integration Plan — Risk Engine (modification),,,,,Not Started,Integration point:
P2-D-009,Contracts,P2-D,,,Risk Engine (modification),No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",1) Development & Integration Plan — Risk Engine (modification),,,,,Not Started,Fail-closed logic:
P2-D-010,Contracts,P2-D,,,Risk Engine (modification),No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",1) Development & Integration Plan — Risk Engine (modification),,,,,Not Started,Hot-path latency:
P2-D-011,Validation,P2-D,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,Unit tests:
P2-D-012,Validation,P2-D,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,Manual trigger:
P2-D-013,Validation,P2-D,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,"Risk calls Adapter; Adapter logs show cache miss, ACEContext build, and ACE call."
P2-D-014,Validation,P2-D,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,"`ComplianceCache` upserted with `{verdict, expiry_at, policy_version}`; response returns `cache_hit: false`."
P2-D-015,Validation,P2-D,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,Adapter returns ALLOW; Risk proceeds and publishes `risk.approved`.
P2-D-016,Validation,P2-D,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,"Publish another `account.intent.ready`; Adapter logs cache hit, no ACE call; Risk approves again, demonstrating low-latency path."
P2-D-017,Validation,P2-D,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,Set the test user’s `ComplianceCache.verdict = DENY`; publish another `account.intent.ready`.
P2-D-018,Validation,P2-D,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,Risk immediately emits `risk.rejected`; snapshot includes compliance reason.
P2-D-019,Validation,P2-D,,,,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",2) Testing & Validation Checklist,,,,,Not Started,Induce adapter 5xx/timeout; verify Risk rejects with `COMPLIANCE_UNAVAILABLE` and persists the snapshot.
P2-A-040,Conventions,P2-A,,,Redis,No,,,"siwe:nonce:{nonce}, siwe:session:{session_id}, siwe:rl:{ip|origin}.",,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",0) Conventions,,,,,Not Started,Define Redis keys for SIWE.
P2-A-041,Conventions,P2-A,,,Redis,No,,,"ccid:webhook:{provider_session_id} (idempotency), ccid:issue:{account_id} (issuance lock).",,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",0) Conventions,,,,,Not Started,Define Redis keys for CCID/KYC.
P2-A-042,Conventions,P2-A,,,Redis,No,,,"comp:refresh:{account_id}, comp:check:{account_id}, ace:qps:*.",,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",0) Conventions,,,,,Not Started,Define Redis keys for Compliance Adapter & ACE rate limits.
P2-A-043,Networking,P2-A,,,VPC/Egress,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",1) GCP & Networking,,,,,Not Started,"Update egress allow-lists per env for KYC/KYB, Chainlink CCID, and Chainlink ACE."
P2-A-044,Networking,P2-A,,,Edge,No,,,"TLS, CORS/CSRF, optional Cloud Armor/IAP.",,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",1) GCP & Networking,,,,,Not Started,Harden public ingress for SIWE and CCID/KYC; keep Compliance Adapter internal.
P2-A-045,CI/CD,P2-A,,,Artifact Registry,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",1) GCP & Networking,,,,,Not Started,"Create Artifact Registry repos for wallet-signin, ccid-kyc, compliance-adapter."
P2-A-046,Security,P2-A,,,IAM,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",3) Security & IAM,,,,,Not Started,"Create service accounts: sa-wallet-signin, sa-ccid-kyc, sa-compliance-adapter."
P2-A-047,Security,P2-A,,,IAM,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",3) Security & IAM,,,,,Not Started,Allow Risk Engine principal to call internal Compliance Adapter and (optionally) read ComplianceCache.
P2-A-048,Security,P2-A,,,Secret Manager,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",3) Security & IAM,,,,,Not Started,Provision secrets in Secret Manager: SIWE JWT/cookies; CCID/KYC provider+webhook+CCID creds; Compliance Adapter ACE creds.
P2-A-049,CI/CD,P2-A,,,Repo Layout,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",5) CI/CD & Runtime,,,,,Not Started,"Add service directories: services/wallet-signin, services/ccid-kyc, services/compliance-adapter."
P2-A-050,CI/CD,P2-A,,,Cloud Build/Run,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",5) CI/CD & Runtime,,,,,Not Started,Build/tag/push images; deploy per env with runtime configs and Secret Manager mounts.
P2-A-051,Runtime,P2-A,,,SIWE Config,No,,,"Allowed domains, origins, uris, chainIds; nonce/session TTLs; cookie flags.",,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",5) CI/CD & Runtime,,,,,Not Started,Configure SIWE runtime policy.
P2-A-052,Runtime,P2-A,,,CCID/KYC Config,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",5) CI/CD & Runtime,,,,,Not Started,Configure CCID/KYC runtime settings and webhook secret.
P2-A-053,Runtime,P2-A,,,Adapter Config,No,,,"Cache TTL defaults, trigger thresholds (e.g., large order notional), ACE endpoints/QPS/retries.",,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",5) CI/CD & Runtime,,,,,Not Started,Configure Compliance Adapter runtime settings.
P2-A-054,Observability,P2-A,,,Dashboards,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",7) Observability & SLOs,,,,,Not Started,"Add dashboards for SIWE, CCID/KYC (start+webhook), Compliance Adapter check; include cache-hit ratio."
P2-A-055,Observability,P2-A,,,Alerts,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",7) Observability & SLOs,,,,,Not Started,"Set alerts for adapter check latency/error, CCID issue/refresh failures, invalid SIWE verifications."
P2-A-056,Observability,P2-A,,,SLOs,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",7) Observability & SLOs,,,,,Not Started,Adopt Phase-2 SLO baselines: SIWE verify p95 ≤ 150 ms; Compliance cache-hit p95 ≤ 50 ms.
P2-A-057,Preflight,P2-A,,,SIWE,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Preflight — SIWE,,,,,Not Started,Verify SIWE secrets present: JWT signing keys and cookie secrets.
P2-A-058,Preflight,P2-A,,,SIWE,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Preflight — SIWE,,,,,Not Started,Verify SIWE config allow-lists and TTLs; CORS/HSTS enabled.
P2-A-059,Preflight,P2-A,,,Redis,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Preflight — SIWE,,,,,Not Started,Enable Redis caches and rate limits for SIWE.
P2-A-060,Preflight,P2-A,,,CCID/KYC,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Preflight — CCID/KYC,,,,,Not Started,"Verify CCID/KYC secrets (provider keys, webhook signing, Chainlink CCID)."
P2-A-061,Preflight,P2-A,,,Security,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Preflight — CCID/KYC,,,,,Not Started,Enforce webhook signature verification and Redis idempotency ccid:webhook:{provider_session_id}.
P2-A-062,Preflight,P2-A,,,Adapter,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Preflight — Adapter,,,,,Not Started,Verify ACE client credentials and limits in secrets.
P2-A-063,Preflight,P2-A,,,Adapter,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",8) Preflight — Adapter,,,,,Not Started,Wire internal ACE Integration client with timeouts/QPS/retries.
P2-A-064,Testing,P2-A,,,SIWE,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint A (https://www.notion.so/Checkpoint-A-26b0cff841588011aa1de35798d696d1?pvs=21)",9) Smoke Tests — SIWE,,,,,Not Started,GET /siwe/nonce returns single-use nonce; Mongo/Redis show TTL.
P2-B-009,Identity,P2-B,,,Error Model,No,,,"NONCE_INVALID, SIGNATURE_INVALID, POLICY_VIOLATION, CHAIN_DENIED, ACCOUNT_BLOCKED, REFRESH_REVOKED; include correlationId.",,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint B (https://www.notion.so/Checkpoint-B-26b0cff8415880fe8f9bd14a6a7b1d7c?pvs=21)",1) Development & Integration Plan — SIWE,,,,,Not Started,Standardize error model and logging.
P2-B-010,Security,P2-B,,,Config/Secrets,No,,,"JWT signing keys, cookie secrets; policy allow-lists; TTLs; rotation window; rate limits; CORS/HSTS.",,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint B (https://www.notion.so/Checkpoint-B-26b0cff8415880fe8f9bd14a6a7b1d7c?pvs=21)",1) Development & Integration Plan — SIWE,,,,,Not Started,Load secrets and runtime configuration.
P2-B-012,Security,P2-B,,,Edge,No,,,"HTTP-only, Secure cookies; SameSite Lax/Strict; enable CSRF token or SameSite Strict; enforce HSTS and TLS 1.2+.",,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint B (https://www.notion.so/Checkpoint-B-26b0cff8415880fe8f9bd14a6a7b1d7c?pvs=21)",Security & Hardening,,,,,Not Started,Harden cookies and CSRF/CORS.
P2-B-013,Security,P2-B,,,Sanitization,No,,,Lowercase wallet addresses; hash/salt IP/device fingerprints before storing; exact domain binding from nonce to verify.,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint B (https://www.notion.so/Checkpoint-B-26b0cff8415880fe8f9bd14a6a7b1d7c?pvs=21)",Security & Hardening,,,,,Not Started,Canonicalize addresses and minimize identifiers.
P2-B-014,Observability,P2-B,,,SLOs,No,,,Keep nonce/session hot paths Redis-backed; persist to Mongo for durability.,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint B (https://www.notion.so/Checkpoint-B-26b0cff8415880fe8f9bd14a6a7b1d7c?pvs=21)",SLOs & Performance,,,,,Not Started,Meet Phase-2 SIWE p95 ≤ 150 ms server-side (excludes wallet signing).
P2-B-015,Preflight,P2-B,,,Secrets,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint B (https://www.notion.so/Checkpoint-B-26b0cff8415880fe8f9bd14a6a7b1d7c?pvs=21)",8) Component-Level Preflight — SIWE,,,,,Not Started,"Verify SIWE secrets present (JWT signing keys, cookie secrets)."
P2-B-016,Preflight,P2-B,,,Runtime Config,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint B (https://www.notion.so/Checkpoint-B-26b0cff8415880fe8f9bd14a6a7b1d7c?pvs=21)",8) Component-Level Preflight — SIWE,,,,,Not Started,"Verify config allow-lists, TTLs, cookie flags, and CORS/HSTS."
P2-B-018,Preflight,P2-B,,,Redis,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint B (https://www.notion.so/Checkpoint-B-26b0cff8415880fe8f9bd14a6a7b1d7c?pvs=21)",8) Component-Level Preflight — SIWE,,,,,Not Started,Redis caches and rate limits enabled for nonce/session.
P2-B-020,Testing,P2-B,,,API,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint B (https://www.notion.so/Checkpoint-B-26b0cff8415880fe8f9bd14a6a7b1d7c?pvs=21)",9) Smoke Tests — SIWE,,,,,Not Started,GET /siwe/nonce returns single-use nonce with TTL; visible in Redis/Mongo.
P2-C-021,Reliability,P2-C,,,Redis,No,,,ccid:webhook:{provider_session_id} for webhook dedupe; ccid:issue:{account_id} to serialize issuance.,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",Conventions,,,,,Not Started,Use Redis idempotency for provider webhooks and issuance locks.
P2-C-022,Compliance,P2-C,,,Webhook Handler,No,,,Verify provider signature; dedupe via ccid:webhook:{provider_session_id}; normalize decision into kyc_sessions.,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",1) Development & Integration Plan — Webhook,,,,,Not Started,Implement /ccid/webhook/provider with signature verification and Redis dedupe.
P2-C-023,Security,P2-C,,,Secret Manager & Networking,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",1) Development & Integration Plan — Secrets & Egress,,,,,Not Started,Load provider & CCID creds; allow-list provider and Chainlink CCID egress.
P2-C-024,Observability,P2-C,,,Dashboards & Logs,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",1) Development & Integration Plan — Observability,,,,,Not Started,"Add structured logs, counters, and latency/error dashboards for each endpoint; include correlationId."
P2-C-025,Exit,P2-C,,,System,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint C (https://www.notion.so/Checkpoint-C-26b0cff84158804e9c6ede31d8a28508?pvs=21)",3) Exit Criteria,,,,,Not Started,CCID/KYC service deployed and operational in dev; end-to-end onboarding to attestation completes with non-PII persistence.
P2-D-020,Compliance,P2-D,,,Compliance Adapter,No,,,"Upsert {verdict, reasons, expiry_at, policy_version, updated_at, source=""fresh""}.",,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",1) Compliance Adapter — Refresh on miss/stale,,,,,Not Started,"On empty/stale cache: acquire comp:refresh:{account_id}, load profile (accounts) and CCID ref (ccid_attestations), build ACEContext, call ACE via Integration Contract, upsert ComplianceCache and return cache_hit=false."
P2-D-021,Compliance,P2-D,,,ACE Integration Contract,No,,,"Map {verdict, reasons[], ttl_hint_seconds, policy_version}; clamp TTLs; export traces/metrics.",,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",1) Compliance Adapter — ACE Integration,,,,,Not Started,"Use ACE Integration Contract for secure, rate-limited calls with short timeouts, bounded retries, and response mapping."
P2-D-022,Observability,P2-D,,,Dashboards & Tracing,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",1) Compliance Adapter — Observability & SLOs,,,,,Not Started,"Emit traces (ace.evaluate) with correlation IDs; monitor p95 latency, error rate, cache-hit ratio, refresh latency."
P2-D-023,Risk,P2-D,,,Risk Engine,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",1) Risk Engine — Hot-path latency,,,,,Not Started,Treat Adapter as cache-served; do not inline ACE calls inside Risk to preserve Phase-1 SLOs.
P2-D-024,Testing,P2-D,,,CI,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",2) Testing & Validation — Unit tests,,,,,Not Started,"Adapter: cache serve/miss paths, TTL calc, ACEContext build, error mapping; Risk: fail-closed integration & rejection reasons."
P2-D-025,Testing,P2-D,,,Adapter & Risk,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",2) Testing & Validation — First run (cache miss),,,,,Not Started,"Risk calls Adapter → Adapter shows cache miss, builds ACEContext, calls ACE; ComplianceCache upserted; Adapter returns ALLOW; Risk publishes risk.approved."
P2-D-026,Exit,P2-D,,,System,No,,,,,,,"Overall Progress (https://www.notion.so/Overall-Progress-26b0cff84158807bb21bd60886c38bc3?pvs=21), Checkpoint D (https://www.notion.so/Checkpoint-D-26b0cff8415880b1a424cb4abb543c1a?pvs=21)",3) Exit Criteria,,,,,Not Started,Compliance Adapter deployed and serving verdicts from ComplianceCache with background refresh on TTL/trigger.